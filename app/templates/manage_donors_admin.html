<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manage Donors</title>
  </head>
  <body>
    <a href="{{ url_for('admin.render_main_admin_page') }}"
      >Back to Dashboard</a
    >
    <h1>Manage Donors</h1>

    <!-- Search Bar -->
    <form
      action="{{ url_for('manageDonor.search_donors_admin') }}"
      method="GET"
    >
      <label for="name">Search by Name:</label>
      <input type="text" id="name" name="name" placeholder="Enter donor name" />
      <label for="blood_group">Search by Blood Group:</label>
      <select id="blood_group" name="blood_group">
        <option value="">Select Blood Group</option>
        <option value="A+">A+</option>
        <option value="A-">A-</option>
        <option value="B+">B+</option>
        <option value="B-">B-</option>
        <option value="O+">O+</option>
        <option value="O-">O-</option>
        <option value="AB+">AB+</option>
        <option value="AB-">AB-</option>
      </select>
      <button type="submit">Search</button>
    </form>

    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Blood Group</th>
          <th>Active Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for donor in donors %}
        <tr>
          <td>{{ donor.id }}</td>
          <td>{{ donor.name }}</td>
          <td>{{ donor.email }}</td>
          <td>{{ donor.blood_group }}</td>
          <td>{{ 'Active' if donor.active_status else 'Inactive' }}</td>
          <td>
            <form
              action="{{ url_for('admin.render_donor_modification_page') }}"
              method="POST"
            >
              <input type="hidden" name="donor_id" value="{{ donor.id }}" />
              <button type="submit">Modify Donor</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </body>
</html>
